<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Adrián Barrera (Adrián Barrera Serván) – Software Developer & Audiovisual Creator</title>
<meta name="description" content="Official website of Adrián Barrera (Adrián Barrera Serván), Uruguayan software developer and audiovisual creator. Co-director of the documentary Hélices (Atlantidoc 2013 Best Uruguayan Documentary). Co-Founder of Projects of Humanity. Specializing in agile methodologies, Salesforce, Data & AI, and AWS.">
<meta name="keywords" content="Adrián Barrera, Adrián Barrera Serván, Developer, Audiovisual Creator, Hélices, Documentary, Projects of Humanity, Salesforce, Data, AI, Agile, AWS, Uruguay, Software Development, Film Director, Communication, Mario Handler">
<meta name="author" content="Adrian Barrera">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://adrian.uy/">

<!-- Favicon -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="profile">
<meta property="og:url" content="https://adrian.uy/">
<meta property="og:title" content="Adrián Barrera – Software Developer & Audiovisual Creator">
<meta property="og:description" content="Uruguayan software developer and co-director of the documentary Hélices (Atlantidoc 2013 Best Uruguayan Documentary). Co-Founder of Projects of Humanity. Specializing in agile methodologies, Salesforce, Data & AI, and cloud technologies.">
<meta property="og:image" content="https://adrian.uy/img/adrian.jpg">
<meta property="og:image:alt" content="Adrian Barrera">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://adrian.uy/">
<meta property="twitter:title" content="Adrián Barrera – Software Developer & Audiovisual Creator">
<meta property="twitter:description" content="Uruguayan software developer and co-director of the documentary Hélices (Atlantidoc 2013). Co-Founder of Projects of Humanity.">
<meta property="twitter:image" content="https://adrian.uy/img/adrian.jpg">
<meta property="twitter:image:alt" content="Adrian Barrera">

<!-- Person Schema with full entity information -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Person",
    "@id": "https://adrian.uy/#person",
    "name": "Adrián Barrera",
    "alternateName": "Adrián Barrera Serván",
    "url": "https://adrian.uy/",
    "image": "https://adrian.uy/img/adrian.jpg",
    "jobTitle": ["Software Developer", "Co-Founder of Projects of Humanity", "Salesforce Data & AI Specialist", "Audiovisual Creator", "Co-Director of Hélices"],
    "description": "Uruguayan software developer, Salesforce Data & AI specialist, and audiovisual creator. Co-director of the documentary Hélices (Atlantidoc 2013 Best Uruguayan Documentary) and Co-Founder of Projects of Humanity. Specializing in agile methodologies, Salesforce, data architecture, AWS cloud technologies, and media communications.",
    "nationality": "Uruguayan",
    "address": {
        "@type": "PostalAddress",
        "addressCountry": "UY",
        "addressLocality": "Punta del Este, Maldonado"
    },
    "sameAs": [
        "https://www.imdb.com/name/nm6859625/",
        "https://www.salado.tv/es/2012-helices.php",
        "https://www.elobservador.com.uy/nota/el-rescate-de-una-tragedia-olvidada-2013111318380",
        "https://web.archive.org/web/20140715160603/http://fcom.um.edu.uy/noticias/63379-se-presento-el--documental-uruguayo-helices-en-la-fcom/",
        "https://web.archive.org/web/20161003222443/http://helicesdoc.com/",
        "http://historico.espectador.com/cultura/241254/sikorsky-primer-documental-sobre-el-accidente-frente-al-parador-kibon",
        "https://atlantidoc.com/site/atlantidoc07-2013/",
        "https://www.youtube.com/watch?v=XzQlCZE7KJQ",
        "https://www.montevideo.com.uy/Pantallazo/Se-estrena-en-el-circuito-comercial-ultimo-film-de-Handler-uc162883",
        "https://pmb.parlamento.gub.uy/pmb/opac_css/index.php?lvl=notice_display&id=75400",
        "https://cie.ort.edu.uy/emprendimientos/projects-of-humanity",
        "https://www.linkedin.com/company/projects-of-humanity/",
        "https://www.facebook.com/projectsofhumanity/about/",
        "https://www.elpais.com.uy/el-empresario/el-usuario-elige-los-avisos-por-una-buena-causa",
        "https://www.mapeosociedadcivil.uy/oportunidad/presentacion-de-projects-of-humanity/",
        "https://www.salesforceben.com/unpacking-the-recent-slack-data-security-breach/",
        "https://linkedin.com/in/adrian-barrera",
        "https://github.com/sfadrianuy",
        "https://github.com/djpeluca",
        "https://twitter.com/sfadrianuy"
    ],
    "worksFor": {
        "@type": "Organization",
        "name": "Altimetrik"
    },
    "memberOf": [
        {
            "@type": "Organization",
            "name": "Salado",
            "url": "https://www.salado.tv/"
        }
    ],
    "alumniOf": {
        "@type": "CollegeOrUniversity",
        "name": "Universidad de la República"
    },
    "knowsAbout": [
        "Software Development",
        "Agile Methodologies",
        "Salesforce",
        "Data Architecture",
        "Artificial Intelligence",
        "Cloud Computing",
        "AWS",
        "Cybersecurity",
        "MVP Development",
        "Advertising Technology",
        "Documentary Filmmaking",
        "Audiovisual Production",
        "Uruguayan Cinema",
        "Media Studies",
        "Communication Science",
        "Film Theory"
    ],
    "award": "Atlantidoc 2013 - Best Uruguayan Documentary (Hélices)"
}
</script>

<!-- WebSite Schema -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "WebSite",
    "@id": "https://adrian.uy/#website",
    "url": "https://adrian.uy/",
    "name": "Adrián Barrera",
    "description": "Official website of Adrián Barrera (Adrián Barrera Serván), software developer and audiovisual creator from Uruguay.",
    "inLanguage": ["en", "es"]
}
</script>

<style>
html, body {
    margin: 0;
    height: 100%;
    font-family: "Courier New", Courier, monospace;
    overflow: hidden;
    transition: background 0.5s, color 0.5s;
}

body.dark { 
    background: #1e1e1e; 
    color: #fff;
}

body.light { 
    background: #f5f5f5; 
    color: #000; 
}

#container { position: relative; height: 100vh; width: 100%; overflow: hidden; }

/* Consoles: only the active one should capture pointer events */
.console {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    max-width: 900px;
    border-radius: 8px;
    opacity: 0;
    transition: opacity 0.5s, background-color 0.5s, color 0.5s, box-shadow 0.5s;
    z-index: 1;
    display: flex;
    flex-direction: column;

    /* Prevent non-active consoles from blocking clicks */
    pointer-events: none;
}

/* Active console is clickable and sits above other consoles */
.console.active {
    opacity: 1;
    pointer-events: auto;
    z-index: 40;
}

/* Console themes */
body.dark .console { 
    background-color: rgba(0,0,0,0.85); 
    color: #fff; 
    box-shadow: 0 0 40px #ffffff33;
}
body.light .console { 
    background-color: rgba(255,255,255,0.95); 
    color: #000; 
    box-shadow: 0 0 20px #00000033; 
}

/* Windows header */
.win-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: 30px;
    padding: 0 0.8rem;
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
    user-select: none;
    font-weight: normal;
}
.win-header.dark { background: #2d2d30; color: #fff; }
.win-header.light { background: #e0e0e0; color: #000; }

/* Windows header buttons */
.win-title { font-weight: bold; font-size: 0.9rem; }
.win-buttons { display: flex; gap: 0.2rem; }
.win-buttons button {
    border: none;
    background: transparent;
    color: inherit;
    font-size: 0.9rem;
    width: 28px;
    height: 24px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 2px;
    transition: background 0.2s;
}
.win-buttons button:hover { background: rgba(255,255,255,0.15); }
body.light .win-buttons button:hover { background: rgba(0,0,0,0.1); }

/* Mac header */
.mac-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    height: 30px;
    padding: 0 0.8rem;
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
    user-select: none;
}
.mac-header.dark { background: #2d2d30; color: #fff; }
.mac-header.light { background: #e0e0e0; color: #000; }

.mac-header .dot { width: 12px; height: 12px; border-radius: 50%; }
.mac-header .dot.red { background-color: #ff5f56; }
.mac-header .dot.yellow { background-color: #ffbd2e; }
.mac-header .dot.green { background-color: #27c93f; }

/* Console content */
.console-content { 
    padding: 1.5rem; 
    overflow-y: auto; 
    max-height: 70vh;
}
h2 { margin-bottom: 1rem; }
h3 { margin-top: 0.8rem; margin-bottom: 0.4rem; }
p, li { line-height: 1.6; margin: 0.5rem 0; position: relative; padding-left: 1.2em; }
ul { list-style: none; padding-left: 0; }
ul li { padding-left: 1.2em; }
a { color: whitesmoke; text-decoration: underline; }
a:hover { text-decoration: none; }
body.light a { color: #0066cc; }

/* Console line prefix for paragraphs */
.console-content p::before {
    content: attr(data-prefix);
    position: absolute;
    left: 0;
    color: inherit;
}

/* Photo */
.about-photo {
    float: right;
    width: 120px;
    height: 120px;
    border-radius: 50%;
    margin-left: 20px;
    object-fit: cover;
    border: 2px solid currentColor;
}

/* Projects */
.projects {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}
.project { 
    padding: 1rem; 
    border: 1px solid rgba(255,255,255,0.2);
    border-radius: 6px; 
    transition: all 0.3s ease; 
}
body.light .project {
    border-color: rgba(0,0,0,0.2);
}
.project:hover { box-shadow: 0 0 20px rgba(255,255,255,0.3); }
body.light .project:hover { box-shadow: 0 0 20px rgba(0,0,0,0.2); }

/* Cursor */
.cursor { display: inline-block; width: 0.6ch; background-color: currentColor; animation: blink 1s steps(2,start) infinite; vertical-align: bottom; }
@keyframes blink { 0%,50% { opacity: 1; } 51%,100% { opacity: 0; } }

/* Dark/light toggle (top-right global, still present) */
.switch { position: fixed; top: 10px; right: 10px; width: 60px; height: 34px; z-index: 1001; }
.switch input { display: none; }
.slider {
    position: absolute; cursor: pointer; top:0; left:0; right:0; bottom:0;
    background-color: #ccc; transition: 0.4s; border-radius: 34px;
}
.slider:before {
    position: absolute; content:""; height:26px; width:26px; left:4px; bottom:4px; background-color:#fff;
    transition:0.4s; border-radius:50%;
}
input:checked + .slider { background-color: #999; }
input:checked + .slider:before { transform: translateX(26px); }

/* Fixed contact area (moved out of consoles, won't block center) */
#contact-fixed {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1000;
    display: flex;
    gap: 8px;
    align-items: center;
    pointer-events: auto;
    font-family: "Courier New", Courier, monospace;
}
/* small pill links */
#contact-fixed a {
    display: inline-block;
    padding: 8px 10px;
    border-radius: 6px;
    text-decoration: none;
    font-size: 0.9rem;
    color: inherit;
    background: rgba(255,255,255,0.02);
    border: 1px solid rgba(255,255,255,0.03);
}
body.light #contact-fixed a { background: rgba(0,0,0,0.03); border-color: rgba(0,0,0,0.06); }

/* Navigation hint */
#nav-hint {
    position: fixed;
    bottom: 80px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 0.85rem;
    opacity: 0.85;
    padding: 6px 12px;
    border-radius: 6px;
    pointer-events: none;
    z-index: 1000;
    font-family: "Courier New", Courier, monospace;
    transition: opacity 0.6s ease;
    background: rgba(255,255,255,0.03);
    color: #fff;
}
body.light #nav-hint { background: rgba(0,0,0,0.04); color: #000; }
</style>
</head>
<body class="dark">

<!-- global (keeps existing behaviour) -->
<label class="switch" title="Toggle light/dark (global)">
    <input type="checkbox" id="mode-toggle">
    <span class="slider"></span>
</label>

<!-- fixed contact links (moved out of overlapping consoles) -->
<div id="contact-fixed" aria-hidden="false">
    <a href="mailto:abarrera@altimetrik.com" title="Email" rel="noopener">Email</a>
    <a href="https://linkedin.com/in/adrian-barrera" target="_blank" rel="me noopener" title="LinkedIn">LinkedIn</a>
    <a href="https://github.com/djpeluca" target="_blank" rel="me noopener" title="GitHub">GitHub</a>
    <a href="https://www.imdb.com/name/nm6859625/" target="_blank" rel="me noopener" title="IMDb">IMDb</a>
</div>

<!-- navigation hint -->
<div id="nav-hint">⬆️ Scroll / Swipe / ← → arrows to switch screens</div>

<div id="container">
    <!-- About Me -->
    <div class="console active">
        <div class="header">
            <span class="title">About Me</span>
        </div>
        <div class="console-content">
            <img src="img/adrian.jpg" alt="Adrian Barrera" class="about-photo">
            <p data-prefix="$"><strong>Adrián Barrera</strong> (also known as <strong>Adrián Barrera Serván</strong>)</p>
            <p data-prefix="$">Hi, I'm Adrian, a <strong>digital professional</strong> blending software development, media projects, and creative problem-solving. With a background in <strong>Communication Science</strong> and <strong>Computer Engineering</strong>, I turn complex challenges into practical, meaningful solutions that bridge technology, data and communications with pragmatism.</p>
            <p data-prefix="$">I specialize in <strong>Salesforce Data & AI</strong>, agile methodologies, cloud architecture, and cybersecurity.</p>
            <p data-prefix="$">I am co-director of the documentary <strong><a href="https://www.imdb.com/title/tt3746252/" target="_blank" rel="noopener noreferrer">Hélices</a></strong> (Atlantidoc 2013 Best Uruguayan Documentary) and <strong>Co-Founder</strong> of <strong><a href="https://cie.ort.edu.uy/emprendimientos/projects-of-humanity" target="_blank" rel="noopener noreferrer">Projects of Humanity</a></strong>, where I designed and developed the technology platform.</p>
            <p data-prefix="$">This is my <strong>official personal website</strong> at <strong>adrian.uy</strong>.</p>
        </div>
    </div>

    <!-- Published Writing -->
    <div class="console">
        <div class="header">
            <span class="title">Published Writing</span>
        </div>
        <div class="console-content">
            <h3>Technical Articles</h3>
            
            <div class="project">
                <h3>Salesforce Ben</h3>
                <p data-prefix="$">
                  <a target="_blank" rel="noopener" href="https://www.salesforceben.com/unpacking-the-recent-slack-data-security-breach/">Unpacking the Recent Slack Data Security Breach</a>
                </p>
                <p data-prefix="$">Analysis of the Slack security incident and recommendations for organizations.</p>
            </div>

            <h3 style="margin-top: 1.5rem;">Undergraduate Thesis</h3>
            
            <div class="project">
                <h3>Las realidades del cine</h3>
                <p data-prefix="$">
                  <a target="_blank" rel="noopener" href="https://pmb.parlamento.gub.uy/pmb/opac_css/index.php?lvl=notice_display&id=75400">Las realidades del cine: aproximaciones a las simulaciones en el cine contemporáneo</a>
                </p>
                <p data-prefix="$">Pre-degree thesis on film theory and simulations in contemporary cinema. Biblioteca del Poder Legislativo, Uruguay.</p>
            </div>
        </div>
    </div>

    <!-- Project: Bluesky / AT Proto -->
    <div class="console">
        <div class="header">
            <span class="title">Project: Bluesky / AT Proto</span>
        </div>
        <div class="console-content">
            <p data-prefix="$">Development work on the <strong>AT Protocol</strong> and <strong>Bluesky</strong> decentralized social network, including custom feeds, handles, and tooling.</p>
            
            <h3>Posts</h3>
            <ul>
                <li><a href="/posts/bluesky-feeds">→ Custom Feeds Development</a></li>
                <li><a href="/posts/bluesky-handles">→ Custom Handles Setup</a></li>
            </ul>

            <h3 style="margin-top: 1.5rem;">Related Links</h3>
            <ul>
                <li><a href="https://bsky.uy" target="_blank" rel="noopener noreferrer">→ bsky.uy - Uruguayan Bluesky Community</a></li>
                <li><a href="https://bsky.ar" target="_blank" rel="noopener noreferrer">→ bsky.ar - Argentine Bluesky Community</a></li>
                <li><a href="https://bsky.app/profile/did:plc:jupasj2qzpxnulq2xa7evmmh/feed/argentina" target="_blank" rel="noopener noreferrer">→ Argentina Custom Feed</a></li>
                <li><a href="https://bsky-feeds.adrian.uy/dashboard" target="_blank" rel="noopener noreferrer">→ Argentina Custom Feed Dashboard</a></li>

                <li><a href="https://bsky.app/profile/bsky.uy" target="_blank" rel="noopener noreferrer">→ bsky.uy - Bluesky Profile</a></li>

                
            </ul>
        </div>
    </div>

    <!-- Project: Projects of Humanity -->
    <div class="console">
        <div class="header">
            <span class="title">Project: Projects of Humanity</span>
        </div>
        <div class="console-content">
            <p data-prefix="$">I <strong>co-founded</strong> Projects of Humanity and served as <strong>Technology Specialist</strong>, designing and developing the MVP for this advertising technology platform where users choose which ads to see for a good cause.</p>
            <p data-prefix="$">Led the technical architecture, development, and implementation, giving shape to the concept and materializing the idea into a working system.</p>
            <p data-prefix="$">The project was sponsored by <strong>ORT University's Centro de Innovación y Emprendimientos</strong> and featured in national media.</p>
            
            <h3>Links</h3>
            <ul>
                <li><a href="https://cie.ort.edu.uy/emprendimientos/projects-of-humanity" target="_blank" rel="noopener noreferrer">→ ORT University CIE Page</a></li>
                <li><a href="https://www.linkedin.com/company/projects-of-humanity/" target="_blank" rel="noopener noreferrer">→ Projects of Humanity LinkedIn</a></li>
                <li><a href="https://www.facebook.com/projectsofhumanity/about/" target="_blank" rel="noopener noreferrer">→ Projects of Humanity Facebook</a></li>
                <li><a href="https://www.elpais.com.uy/el-empresario/el-usuario-elige-los-avisos-por-una-buena-causa" target="_blank" rel="noopener noreferrer">→ El País Article (Spanish)</a></li>
                <li><a href="https://www.mapeosociedadcivil.uy/oportunidad/presentacion-de-projects-of-humanity/" target="_blank" rel="noopener noreferrer">→ Presentation at Cámara Nacional de Comercio</a></li>
            </ul>
        </div>
    </div>

    <!-- Project: Hélices -->
    <div class="console">
        <div class="header">
            <span class="title">Project: Hélices</span>
        </div>
        <div class="console-content">
            <h2>Hélices (2013)</h2>
            <p data-prefix="$"><strong>Co-director</strong> of <em>Hélices</em>, a documentary that rescues the memory of a forgotten aviation tragedy in Uruguay.</p>
            <p data-prefix="$"><strong>Award:</strong> Atlantidoc 2013 - Best Uruguayan Documentary</p>
            <p data-prefix="$">Produced by <a href="https://www.salado.tv/" target="_blank" rel="noopener noreferrer">Salado</a> and featured in multiple media outlets.</p>
            
            <h3>Links</h3>
            <ul>
                <li><a href="https://www.imdb.com/title/tt3746252/" target="_blank" rel="noopener noreferrer">→ Hélices on IMDb</a></li>
                <li><a href="https://web.archive.org/web/20161003222443/http://helicesdoc.com/" target="_blank" rel="noopener noreferrer">→ Official Documentary Website (Archive)</a></li>
                <li><a href="https://www.salado.tv/es/2012-helices.php" target="_blank" rel="noopener noreferrer">→ Hélices at Salado</a></li>
                <li><a href="https://atlantidoc.com/site/atlantidoc07-2013/" target="_blank" rel="noopener noreferrer">→ Atlantidoc 2013 Award</a></li>
                <li><a href="https://www.elobservador.com.uy/nota/el-rescate-de-una-tragedia-olvidada-2013111318380" target="_blank" rel="noopener noreferrer">→ El Observador Article</a></li>
                <li><a href="https://web.archive.org/web/20140715160603/http://fcom.um.edu.uy/noticias/63379-se-presento-el--documental-uruguayo-helices-en-la-fcom/" target="_blank" rel="noopener noreferrer">→ Presentation at Universidad de Montevideo</a></li>
                <li><a href="http://historico.espectador.com/cultura/241254/sikorsky-primer-documental-sobre-el-accidente-frente-al-parador-kibon" target="_blank" rel="noopener noreferrer">→ El Espectador Radio Interview</a></li>
            </ul>
        </div>
    </div>

    <!-- Project: El voto que el alma pronuncia -->
    <div class="console">
        <div class="header">
            <span class="title">Project: El voto que el alma pronuncia</span>
        </div>
        <div class="console-content">
            <h2>El voto que el alma pronuncia (2010)</h2>
            <p data-prefix="$"><strong>Video collaborator</strong> in Mario Handler's documentary about the Uruguayan electoral system and democratic participation.</p>
            
            <h3>Links</h3>
            <ul>
                <li><a href="https://www.youtube.com/watch?v=XzQlCZE7KJQ" target="_blank" rel="noopener noreferrer">→ Documentary Trailer</a></li>
                <li><a href="https://www.montevideo.com.uy/Pantallazo/Se-estrena-en-el-circuito-comercial-ultimo-film-de-Handler-uc162883" target="_blank" rel="noopener noreferrer">→ Montevideo.com.uy Article</a></li>
            </ul>
        </div>
    </div>

    <!-- Contact console kept for visual parity but not used for links -->
    <div class="console">
        <div class="header">
            <span class="title">Contact</span>
        </div>
        <div class="console-content">
            <p data-prefix="$">Contact links are available at the lower-right corner of the screen.</p>
            <p data-prefix="$">You can also find me on LinkedIn, GitHub, and IMDb.</p>
        </div>
    </div>
</div>

<script>
/* navigation state */
const consoles = document.querySelectorAll('.console');
let currentIndex = 0;

function showConsole(index) {
    // clamp
    index = Math.max(0, Math.min(index, consoles.length - 1));
    currentIndex = index;
    consoles.forEach((c, i) => c.classList.toggle('active', i === index));
}

// wheel navigation (desktop)
let scrollTimeout;
window.addEventListener('wheel', e => {
    if (scrollTimeout) return;
    if (e.deltaY > 0 && currentIndex < consoles.length - 1) currentIndex++;
    else if (e.deltaY < 0 && currentIndex > 0) currentIndex--;
    showConsole(currentIndex);
    scrollTimeout = setTimeout(() => scrollTimeout = null, 300);
});

// arrow keys
window.addEventListener('keydown', e => {
    if (e.key === "ArrowDown" || e.key === "ArrowRight") {
        if (currentIndex < consoles.length - 1) currentIndex++;
        showConsole(currentIndex);
    } else if (e.key === "ArrowUp" || e.key === "ArrowLeft") {
        if (currentIndex > 0) currentIndex--;
        showConsole(currentIndex);
    } else return;
});

// touch navigation (mobile)
let touchStartY = 0;
let touchEndY = 0;
const swipeThreshold = 50;
window.addEventListener('touchstart', e => {
    touchStartY = e.changedTouches[0].screenY;
});
window.addEventListener('touchend', e => {
    touchEndY = e.changedTouches[0].screenY;
    const diff = touchStartY - touchEndY;
    if (Math.abs(diff) > swipeThreshold) {
        if (diff > 0 && currentIndex < consoles.length - 1) currentIndex++;
        else if (diff < 0 && currentIndex > 0) currentIndex--;
        showConsole(currentIndex);
    }
});

// update console header styling (Mac vs Windows look)
const isMac = /Mac|iPhone|iPad|iPod/i.test(navigator.userAgent);
consoles.forEach(c => {
    const h = c.querySelector('.header');
    // keep a copy of the title text
    const titleText = (h.querySelector('.title') && h.querySelector('.title').textContent) || h.textContent.trim();
    if (isMac) {
        h.className = 'mac-header dark';
        h.innerHTML = '<div class="dot red"></div><div class="dot yellow"></div><div class="dot green"></div><span class="title">' + titleText + '</span>';
    } else {
        h.className = 'win-header dark';
        h.innerHTML = '<span class="win-title">' + titleText + '</span><div class="win-buttons"><button title="Minimize">_</button><button title="Maximize">☐</button><button title="Close">X</button></div>';
    }

    // set console line prefix for paragraphs inside this console
    const paragraphs = c.querySelectorAll('.console-content p');
    paragraphs.forEach(p => {
        if (!p.hasAttribute('data-prefix')) {
            p.setAttribute('data-prefix', isMac ? '>' : '$');
        }
    });
});

// global dark/light toggle (keeps previous behaviour)
const toggle = document.getElementById('mode-toggle');
toggle.addEventListener('change', () => {
    if (toggle.checked) {
        document.body.classList.remove('dark'); document.body.classList.add('light');
        document.querySelectorAll('.win-header, .mac-header').forEach(h => h.classList.replace('dark', 'light'));
    } else {
        document.body.classList.remove('light'); document.body.classList.add('dark');
        document.querySelectorAll('.win-header, .mac-header').forEach(h => h.classList.replace('light', 'dark'));
    }
});

// initialize
showConsole(0);

// nav hint fades after a few seconds but reappears when user stops interacting for a while
const navHint = document.getElementById('nav-hint');
let hintTimeout;
function fadeNavHint() {
    navHint.style.opacity = '0';
}
function showNavHint() {
    navHint.style.opacity = '0.85';
    clearTimeout(hintTimeout);
    hintTimeout = setTimeout(fadeNavHint, 4000);
}
showNavHint(); // initial
// re-show when user uses arrow keys or touch
window.addEventListener('keydown', showNavHint);
window.addEventListener('wheel', showNavHint);
window.addEventListener('touchend', showNavHint);

</script>

</body>
</html>
